petitions:
  options:
    tags:
      - Options
    summary: CORS Options
    responses:
      default:
        description: Empty Body
  get:
    tags:
      - petition
    summary: Petitions
    operationId: search
    parameters:
      - $ref: "petition_parameters.yml#/parameters/state"
      - $ref: "parameters.yml#/parameters/tags"
      - $ref: "petition_parameters.yml#/parameters/city"
      - $ref: "parameters.yml#/parameters/fulltext"
      - name: tags_ft
        in: query
        type: string
      - name: title_ft
        in: query
        type: string
      - name: description_ft
        in: query
        type: string
      - name: suggested_solution_ft
        in: query
        type: string
      - $ref: "petition_parameters.yml#/parameters/sort"
      - $ref: "petition_parameters.yml#/parameters/resolve"
      - $ref: "petition_parameters.yml#/parameters/extend"
      - $ref: "parameters.yml#/parameters/offset"
      - $ref: "parameters.yml#/parameters/limit"
    responses:
      '200':
        description: Petition found
        schema:
          $ref: 'petitions.yml#/definitions/ListResponseBody'
      default:
        description: Error Body
        schema:
          $ref: 'errors.yml#/definitions/ResponseBody'
  post:
    tags:
      - petition
    summary: Create Petition
    operationId: create
    parameters:
      - $ref: "petition_parameters.yml#/parameters/resolve"
      - $ref: "petition_parameters.yml#/parameters/extend"
      - name: data
        in: body
        schema:
          $ref: 'petitions.yml#/definitions/POSTBody'
        required: true
    responses:
      '200':
        description: Petition found
        schema:
          $ref: 'petitions.yml#/definitions/ResponseBody'
      default:
        description: Unexpected error
        schema:
          $ref: 'errors.yml#/definitions/ResponseBody'
petitions_contentId:
  options:
    tags:
      - Options
    summary: CORS Options
    parameters:
      - name: contentId
        in: path
        type: string
        required: true
        description: The id of the petition
      - $ref: "petition_parameters.yml#/parameters/resolve"
      - $ref: "petition_parameters.yml#/parameters/extend"
    responses:
      default:
        description: Empty Body
  get:
    tags:
      - petition
    summary: Get a Petition
    operationId: get
    parameters:
      - name: contentId
        in: path
        type: string
        required: true
        description: The id of the petition
      - $ref: "petition_parameters.yml#/parameters/resolve"
      - $ref: "petition_parameters.yml#/parameters/extend"
    responses:
      '200':
        description: Petition found
        schema:
          $ref: 'petitions.yml#/definitions/ResponseBody'
      default:
        description: Unexpected error
        schema:
          $ref: 'errors.yml#/definitions/ResponseBody'
  post:
    tags:
      - petition
    summary: Update Petition
    operationId: update
    parameters:
      - name: contentId
        in: path
        type: string
        required: true
        description: The id of the petition
      - $ref: "petition_parameters.yml#/parameters/resolve"
      - $ref: "petition_parameters.yml#/parameters/extend"
      - name: data
        in: body
        schema:
          $ref: 'petitions.yml#/definitions/POSTBody'
        required: true
    responses:
      '200':
        description: Petition found
        schema:
          $ref: 'petitions.yml#/definitions/ResponseBody'
      default:
        description: Unexpected error
        schema:
          $ref: 'errors.yml#/definitions/ResponseBody'
  delete:
    tags:
      - petition
    summary: Update Petition
    operationId: delete
    parameters:
      - name: contentId
        in: path
        type: string
        required: true
        description: The id of the petition
    responses:
      '200':
        description: Petition found
        schema:
          $ref: 'petitions.yml#/definitions/ResponseBody'
      default:
        description: Unexpected error
        schema:
          $ref: 'errors.yml#/definitions/ResponseBody'
