{%- set crate = config['containers']['iris-crate'] -%}
es:
    api:
        enabled: true
script:
    groovy:
        sandbox:
            enabled: true
http:
    port: {{ crate['ports'][0][1] }}
    cors:
        enabled: true
        allow-origin: "/.*/"
path:
    logs:  {{ crate['log_path'] }}
    data:  {{ crate['data_path'] }}
discovery:
    type: zen
    zen:
        ping:
            multicast:
                enabled:  false
            unicast:
                hosts:
                    {%- for node in crate['hosts'] %}
                    - {{ node }}:{{ crate['ports'][1][1] }}
                    {%- endfor %}
cluster:
    name: {{ crate['cluster_name'] }}
